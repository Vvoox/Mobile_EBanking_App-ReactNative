{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Fab = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _color = _interopRequireDefault(require(\"color\"));\n\nvar _theme = require(\"../../theme/theme.service\");\n\nvar _fab = require(\"./fab.style\");\n\nvar _theme2 = require(\"../../theme\");\n\nvar _button = require(\"../button/button.component\");\n\nvar _icon = require(\"../icon/icon.component\");\n\nvar _withDefaultProps = require(\"../../utilities/withDefaultProps\");\n\nvar _jsxFileName = \"/Users/pawankumar/Sites/react-native-magnus/src/ui/fab/fab.component.tsx\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar FabBase = function (_React$Component) {\n  (0, _inherits2.default)(FabBase, _React$Component);\n\n  var _super = _createSuper(FabBase);\n\n  function FabBase(props) {\n    var _props$bottom, _props$h, _props$bottom2;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, FabBase);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"animation\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"fadeAnimation\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"visibleAnimation\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"actionsAnimation\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"mainBottomAnimation\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"actionsBottomAnimation\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getIcon\", function () {\n      var active = _this.state.active;\n      var _this$props = _this.props,\n          icon = _this$props.icon,\n          colorProp = _this$props.color,\n          fontSize = _this$props.fontSize,\n          activeIcon = _this$props.activeIcon;\n\n      if (active === false) {\n        if (typeof icon === 'string') {\n          return React.createElement(_icon.Icon, {\n            name: icon,\n            fontSize: fontSize,\n            color: colorProp,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 16\n            }\n          });\n        }\n\n        if (React.isValidElement(icon)) {\n          return icon;\n        }\n      } else {\n        if (typeof activeIcon === 'string') {\n          return React.createElement(_icon.Icon, {\n            name: activeIcon,\n            fontSize: fontSize,\n            color: colorProp,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 16\n            }\n          });\n        }\n\n        if (React.isValidElement(activeIcon)) {\n          return activeIcon;\n        }\n      }\n\n      return false;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"reset\", function () {\n      var _this$props2 = _this.props,\n          animated = _this$props2.animated,\n          onClose = _this$props2.onClose,\n          h = _this$props2.h,\n          bottom = _this$props2.bottom,\n          _this$props2$useNativ = _this$props2.useNativeDriver,\n          useNativeDriver = _this$props2$useNativ === void 0 ? false : _this$props2$useNativ;\n\n      if (animated) {\n        _reactNative.Animated.spring(_this.animation, {\n          toValue: 0,\n          useNativeDriver: useNativeDriver\n        }).start();\n\n        _reactNative.Animated.spring(_this.actionsAnimation, {\n          toValue: 0,\n          useNativeDriver: useNativeDriver\n        }).start();\n\n        _reactNative.Animated.spring(_this.actionsBottomAnimation, {\n          toValue: (h !== null && h !== void 0 ? h : 40) + (bottom !== null && bottom !== void 0 ? bottom : 40),\n          useNativeDriver: useNativeDriver\n        }).start();\n      }\n\n      _this.updateState({\n        active: false\n      }, function () {\n        if (onClose) {\n          onClose();\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"animateButton\", function () {\n      var _this$props3 = _this.props,\n          animated = _this$props3.animated,\n          onOpen = _this$props3.onOpen,\n          h = _this$props3.h,\n          bottom = _this$props3.bottom,\n          _this$props3$useNativ = _this$props3.useNativeDriver,\n          useNativeDriver = _this$props3$useNativ === void 0 ? false : _this$props3$useNativ;\n      var active = _this.state.active;\n\n      if (!active) {\n        if (animated) {\n          _reactNative.Animated.spring(_this.animation, {\n            toValue: 1,\n            useNativeDriver: useNativeDriver\n          }).start();\n        }\n\n        if (animated) {\n          _reactNative.Animated.spring(_this.actionsAnimation, {\n            toValue: 1,\n            useNativeDriver: useNativeDriver\n          }).start();\n\n          _reactNative.Animated.spring(_this.actionsBottomAnimation, {\n            toValue: (h !== null && h !== void 0 ? h : 40) + (bottom !== null && bottom !== void 0 ? bottom : 40) + 20,\n            useNativeDriver: useNativeDriver\n          }).start();\n\n          _reactNative.LayoutAnimation.configureNext({\n            duration: 180,\n            create: {\n              type: _reactNative.LayoutAnimation.Types.easeInEaseOut,\n              property: _reactNative.LayoutAnimation.Properties.opacity\n            }\n          });\n        }\n\n        _this.updateState({\n          active: true\n        }, function () {\n          if (onOpen) {\n            onOpen();\n          }\n        });\n      } else {\n        _this.reset();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateState\", function (nextState, callback) {\n      _this.setState(nextState, function () {\n        if (callback) {\n          callback();\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handlePressBackdrop\", function () {\n      var onPressBackdrop = _this.props.onPressBackdrop;\n\n      if (onPressBackdrop) {\n        onPressBackdrop();\n      }\n\n      _this.reset();\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handlePressItem\", function () {\n      _this.reset();\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderMainButton\", function (computedStyles) {\n      var _this$props4 = _this.props,\n          animated = _this$props4.animated,\n          position = _this$props4.position,\n          right = _this$props4.right,\n          bottom = _this$props4.bottom,\n          rest = (0, _objectWithoutProperties2.default)(_this$props4, [\"animated\", \"position\", \"right\", \"bottom\"]);\n      var active = _this.state.active;\n      var animatedViewStyle;\n      var animatedVisibleView;\n\n      if (animated) {\n        animatedVisibleView = {\n          opacity: _this.fadeAnimation\n        };\n        animatedViewStyle = {\n          opacity: _this.fadeAnimation,\n          transform: [{\n            rotate: _this.animation.interpolate({\n              inputRange: [0, 1],\n              outputRange: ['0deg', '180deg']\n            })\n          }]\n        };\n      } else if (active) {\n        animatedVisibleView = {};\n        animatedViewStyle = {\n          opacity: _this.fadeAnimation,\n          transform: [{\n            rotate: '45deg'\n          }]\n        };\n      } else {\n        animatedVisibleView = {};\n        animatedViewStyle = {\n          transform: [{\n            rotate: '0deg'\n          }]\n        };\n      }\n\n      return React.createElement(_reactNative.Animated.View, {\n        style: [computedStyles.button, animatedVisibleView],\n        accessible: true,\n        accessibilityLabel: \"Floating Action Button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 7\n        }\n      }, React.createElement(_button.Button, (0, _extends2.default)({\n        mb: bottom,\n        mr: right,\n        onPress: _this.animateButton\n      }, rest, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 9\n        }\n      }), React.createElement(_reactNative.Animated.View, {\n        style: [animatedViewStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }\n      }, _this.getIcon())));\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderActions\", function (computedStyle) {\n      var _this$props5 = _this.props,\n          animated = _this$props5.animated,\n          right = _this$props5.right,\n          children = _this$props5.children;\n      var active = _this.state.active;\n      var animatedActionsStyle;\n\n      if (animated) {\n        animatedActionsStyle = {\n          opacity: _this.actionsAnimation.interpolate({\n            inputRange: [0, 1],\n            outputRange: [0, 1]\n          })\n        };\n      } else {\n        animatedActionsStyle = {\n          opacity: active ? 1 : 0\n        };\n      }\n\n      var actionsStyles = [computedStyle.actions, animatedActionsStyle, {\n        right: right,\n        bottom: _this.actionsBottomAnimation\n      }];\n      return React.createElement(_reactNative.Animated.View, {\n        style: actionsStyles,\n        pointerEvents: \"box-none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 7\n        }\n      }, React.Children.map(children, function (child) {\n        return React.cloneElement(child, {\n          mb: child.props.mb ? child.props.mb : 'lg',\n          onPress: function onPress(e) {\n            if (!active) return;\n\n            if (child.props.onPress) {\n              child.props.onPress(e);\n            }\n\n            _this.reset();\n          }\n        });\n      }));\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderTappableBackground\", function (theme, computedStyle) {\n      var _this$props6 = _this.props,\n          overlayColor = _this$props6.overlayColor,\n          overlayOpacity = _this$props6.overlayOpacity;\n      var calculatedOverlayColor = (0, _color.default)((0, _theme.getThemeProperty)(theme.colors, overlayColor)).alpha(overlayOpacity !== null && overlayOpacity !== void 0 ? overlayOpacity : 1).rgb().string();\n      return React.createElement(_reactNative.TouchableOpacity, {\n        activeOpacity: 1,\n        style: [computedStyle.overlay, {\n          backgroundColor: calculatedOverlayColor\n        }],\n        onPress: _this.handlePressBackdrop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 7\n        }\n      });\n    });\n    _this.state = {\n      active: false\n    };\n    _this.mainBottomAnimation = new _reactNative.Animated.Value((_props$bottom = props.bottom) !== null && _props$bottom !== void 0 ? _props$bottom : 0);\n    _this.actionsBottomAnimation = new _reactNative.Animated.Value(((_props$h = props.h) !== null && _props$h !== void 0 ? _props$h : 40) + ((_props$bottom2 = props.bottom) !== null && _props$bottom2 !== void 0 ? _props$bottom2 : 40) + 30);\n    _this.animation = new _reactNative.Animated.Value(0);\n    _this.actionsAnimation = new _reactNative.Animated.Value(0);\n    _this.visibleAnimation = new _reactNative.Animated.Value(0);\n    _this.fadeAnimation = new _reactNative.Animated.Value(1);\n    return _this;\n  }\n\n  (0, _createClass2.default)(FabBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var openOnMount = this.props.openOnMount;\n\n      if (openOnMount) {\n        this.animateButton();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var active = this.state.active;\n      var showBackground = this.props.showBackground;\n      return React.createElement(_theme2.ThemeContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 7\n        }\n      }, function (_ref) {\n        var theme = _ref.theme;\n        var computedStyle = (0, _fab.getStyle)(theme, _this2.props);\n        return React.createElement(_reactNative.Animated.View, {\n          pointerEvents: 'box-none',\n          style: computedStyle.overlay,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }\n        }, active && showBackground && _this2.renderTappableBackground(theme, computedStyle), _this2.renderActions(computedStyle), _this2.renderMainButton(computedStyle));\n      });\n    }\n  }]);\n  return FabBase;\n}(React.Component);\n\nvar Fab = (0, _withDefaultProps.withDefaultProps)(FabBase, 'Fab', {\n  color: 'white',\n  fontSize: '4xl',\n  p: 18,\n  overlayColor: 'gray900',\n  overlayOpacity: 0.5,\n  position: 'absolute',\n  openOnMount: false,\n  showBackground: true,\n  animated: true,\n  bottom: 30,\n  right: 30,\n  icon: 'plus',\n  activeIcon: 'close',\n  rounded: 'circle',\n  bg: 'blue500',\n  useNativeDriver: false,\n  shadow: 'lg',\n  shadowColor: 'gray900'\n});\nexports.Fab = Fab;","map":{"version":3,"sources":["fab.component.tsx"],"names":["FabBase","React","Component","active","Animated","props","openOnMount","icon","colorProp","fontSize","activeIcon","animated","onClose","h","bottom","useNativeDriver","toValue","onOpen","LayoutAnimation","duration","create","type","property","callback","onPressBackdrop","position","right","rest","animatedVisibleView","opacity","animatedViewStyle","transform","rotate","inputRange","outputRange","computedStyles","children","animatedActionsStyle","actionsStyles","computedStyle","mb","child","onPress","overlayColor","overlayOpacity","calculatedOverlayColor","theme","backgroundColor","showBackground","Fab","color","p","rounded","bg","shadow","shadowColor"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  Animated,\n  TouchableOpacity,\n  LayoutAnimation,\n  GestureResponderEvent,\n} from 'react-native';\nimport color from 'color';\n\nimport { getThemeProperty } from '../../theme/theme.service';\nimport { getStyle } from './fab.style';\nimport { ThemeContext, ThemeType } from '../../theme';\nimport { Button } from '../button/button.component';\nimport { Icon } from '../icon/icon.component';\nimport { FabProps } from './fab.type';\nimport { withDefaultProps } from '../../utilities/withDefaultProps';\nimport { DefaultProps } from '../../types';\n\ninterface FabState {\n  active: boolean;\n}\n\nclass FabBase extends React.Component<\n  FabProps & DefaultProps<FabProps>,\n  FabState\n> {\n  animation: any;\n  fadeAnimation: any;\n  visibleAnimation: any;\n  actionsAnimation: any;\n  mainBottomAnimation: any;\n  actionsBottomAnimation: any;\n\n  constructor(props: FabProps & DefaultProps<FabProps>) {\n    super(props);\n\n    this.state = {\n      active: false,\n    };\n\n    this.mainBottomAnimation = new Animated.Value(props.bottom ?? 0);\n    this.actionsBottomAnimation = new Animated.Value(\n      (props.h ?? 40) + (props.bottom ?? 40) + 30\n    );\n    this.animation = new Animated.Value(0);\n    this.actionsAnimation = new Animated.Value(0);\n    this.visibleAnimation = new Animated.Value(0);\n    this.fadeAnimation = new Animated.Value(1);\n  }\n\n  componentDidMount() {\n    const { openOnMount } = this.props;\n\n    if (openOnMount) {\n      this.animateButton();\n    }\n  }\n\n  getIcon = () => {\n    const { active } = this.state;\n    const { icon, color: colorProp, fontSize, activeIcon } = this.props;\n\n    if (active === false) {\n      if (typeof icon === 'string') {\n        return <Icon name={icon} fontSize={fontSize} color={colorProp} />;\n      }\n\n      if (React.isValidElement(icon)) {\n        return icon;\n      }\n    } else {\n      if (typeof activeIcon === 'string') {\n        return <Icon name={activeIcon} fontSize={fontSize} color={colorProp} />;\n      }\n\n      if (React.isValidElement(activeIcon)) {\n        return activeIcon;\n      }\n    }\n\n    return false;\n  };\n\n  reset = () => {\n    const {\n      animated,\n      onClose,\n      h,\n      bottom,\n      useNativeDriver = false,\n    } = this.props;\n\n    if (animated) {\n      Animated.spring(this.animation, {\n        toValue: 0,\n        useNativeDriver: useNativeDriver,\n      }).start();\n      Animated.spring(this.actionsAnimation, {\n        toValue: 0,\n        useNativeDriver,\n      }).start();\n      Animated.spring(this.actionsBottomAnimation, {\n        toValue: (h ?? 40) + (bottom ?? 40),\n        useNativeDriver,\n      }).start();\n    }\n    this.updateState(\n      {\n        active: false,\n      },\n      () => {\n        if (onClose) {\n          onClose();\n        }\n      }\n    );\n  };\n\n  animateButton = () => {\n    const { animated, onOpen, h, bottom, useNativeDriver = false } = this.props;\n    const { active } = this.state;\n\n    if (!active) {\n      if (animated) {\n        Animated.spring(this.animation, {\n          toValue: 1,\n          useNativeDriver,\n        }).start();\n      }\n\n      if (animated) {\n        Animated.spring(this.actionsAnimation, {\n          toValue: 1,\n          useNativeDriver,\n        }).start();\n        Animated.spring(this.actionsBottomAnimation, {\n          toValue: (h ?? 40) + (bottom ?? 40) + 20,\n          useNativeDriver,\n        }).start();\n\n        // only execute it for the background to prevent extra calls\n        LayoutAnimation.configureNext({\n          duration: 180,\n          create: {\n            type: LayoutAnimation.Types.easeInEaseOut,\n            property: LayoutAnimation.Properties.opacity,\n          },\n        });\n      }\n\n      this.updateState(\n        {\n          active: true,\n        },\n        () => {\n          if (onOpen) {\n            onOpen();\n          }\n        }\n      );\n    } else {\n      this.reset();\n    }\n  };\n\n  updateState = (nextState: FabState, callback: any) => {\n    this.setState(nextState, () => {\n      if (callback) {\n        callback();\n      }\n    });\n  };\n\n  handlePressBackdrop = () => {\n    const { onPressBackdrop } = this.props;\n\n    if (onPressBackdrop) {\n      onPressBackdrop();\n    }\n    this.reset();\n  };\n\n  handlePressItem = () => {\n    this.reset();\n  };\n\n  renderMainButton = (computedStyles: any) => {\n    const {\n      animated,\n      position,\n      right,\n      bottom,\n      // shadow,\n      // shadowColor,\n      ...rest\n    } = this.props;\n    const { active } = this.state;\n\n    let animatedViewStyle;\n    let animatedVisibleView;\n\n    if (animated) {\n      animatedVisibleView = {\n        opacity: this.fadeAnimation,\n      };\n\n      animatedViewStyle = {\n        opacity: this.fadeAnimation,\n        transform: [\n          {\n            rotate: this.animation.interpolate({\n              inputRange: [0, 1],\n              outputRange: ['0deg', '180deg'],\n            }),\n          },\n        ],\n      };\n    } else if (active) {\n      animatedVisibleView = {};\n\n      animatedViewStyle = {\n        opacity: this.fadeAnimation,\n        transform: [\n          {\n            rotate: '45deg',\n          },\n        ],\n      };\n    } else {\n      animatedVisibleView = {};\n\n      animatedViewStyle = {\n        transform: [\n          {\n            rotate: '0deg',\n          },\n        ],\n      };\n    }\n\n    return (\n      <Animated.View\n        style={[computedStyles.button, animatedVisibleView]}\n        accessible\n        accessibilityLabel=\"Floating Action Button\"\n      >\n        <Button mb={bottom} mr={right} onPress={this.animateButton} {...rest}>\n          <Animated.View style={[animatedViewStyle]}>\n            {this.getIcon()}\n          </Animated.View>\n        </Button>\n      </Animated.View>\n    );\n  };\n\n  renderActions = (computedStyle: any) => {\n    const { animated, right, children } = this.props;\n    const { active } = this.state;\n\n    let animatedActionsStyle;\n    if (animated) {\n      animatedActionsStyle = {\n        opacity: this.actionsAnimation.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, 1],\n        }),\n      };\n    } else {\n      animatedActionsStyle = { opacity: active ? 1 : 0 };\n    }\n    const actionsStyles = [\n      computedStyle.actions,\n      animatedActionsStyle,\n      {\n        right,\n        bottom: this.actionsBottomAnimation,\n      },\n    ];\n    return (\n      <Animated.View style={actionsStyles} pointerEvents=\"box-none\">\n        {React.Children.map(children, (child: React.ReactElement) => {\n          return React.cloneElement(child, {\n            mb: child.props.mb ? child.props.mb : 'lg',\n            onPress: (e: GestureResponderEvent) => {\n              // if fab is not active, don't allow pressing buttons\n              if (!active) return;\n\n              if (child.props.onPress) {\n                child.props.onPress(e);\n              }\n\n              this.reset();\n            },\n          });\n        })}\n      </Animated.View>\n    );\n  };\n\n  renderTappableBackground = (theme: ThemeType, computedStyle: any) => {\n    const { overlayColor, overlayOpacity } = this.props;\n\n    const calculatedOverlayColor = color(\n      getThemeProperty(theme.colors, overlayColor)\n    )\n      .alpha(overlayOpacity ?? 1)\n      .rgb()\n      .string();\n\n    // TouchableOpacity don't require a child\n    return (\n      <TouchableOpacity\n        activeOpacity={1}\n        style={[\n          computedStyle.overlay,\n          { backgroundColor: calculatedOverlayColor },\n        ]}\n        onPress={this.handlePressBackdrop}\n      />\n    );\n  };\n\n  render() {\n    const { active } = this.state;\n    const { showBackground } = this.props;\n\n    return (\n      <ThemeContext.Consumer>\n        {({ theme }) => {\n          const computedStyle = getStyle(theme, this.props);\n\n          return (\n            <Animated.View\n              pointerEvents={'box-none'}\n              style={computedStyle.overlay}\n            >\n              {active &&\n                showBackground &&\n                this.renderTappableBackground(theme, computedStyle)}\n              {this.renderActions(computedStyle)}\n              {this.renderMainButton(computedStyle)}\n            </Animated.View>\n          );\n        }}\n      </ThemeContext.Consumer>\n    );\n  }\n}\n\nconst Fab = withDefaultProps<FabProps>(FabBase, 'Fab', {\n  color: 'white',\n  fontSize: '4xl',\n  p: 18,\n  overlayColor: 'gray900',\n  overlayOpacity: 0.5,\n  position: 'absolute',\n  openOnMount: false,\n  showBackground: true,\n  animated: true,\n  bottom: 30,\n  right: 30,\n  icon: 'plus',\n  activeIcon: 'close',\n  rounded: 'circle',\n  bg: 'blue500',\n  useNativeDriver: false,\n  shadow: 'lg',\n  shadowColor: 'gray900',\n});\n\nexport { Fab };\n"]},"metadata":{},"sourceType":"script"}