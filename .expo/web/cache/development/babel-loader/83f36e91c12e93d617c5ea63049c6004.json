{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/vvoox/REACT_NATIVE/ensapay-client-mobile/views/ProfilScreen.tsx\";\nimport { View } from \"../components/Themed\";\nimport React, { useEffect, useState } from \"react\";\nimport { loadUserInfo } from \"../services/auth.service\";\nimport { ActionSheet, Button, Container, Content, Text } from 'native-base';\nimport { useKeycloak } from \"expo-keycloak\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { config } from \"../constants/api\";\nimport * as WebBrowser from 'expo-web-browser';\nexport default function ProfilScreen(props) {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentUser = _useState2[0],\n      setCurrentUser = _useState2[1];\n\n  var _useKeycloak = useKeycloak(),\n      ready = _useKeycloak.ready,\n      login = _useKeycloak.login,\n      isLoggedIn = _useKeycloak.isLoggedIn,\n      token = _useKeycloak.token,\n      logout = _useKeycloak.logout;\n\n  useEffect(function () {\n    if (ready) loadUserInfo(token).then(function (response) {\n      return setCurrentUser(response.data);\n    });\n  }, [ready]);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, React.createElement(Content, {\n    padder: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    style: {\n      width: '100%',\n      display: 'flex',\n      marginTop: \"30%\",\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    warning: true,\n    onPress: function onPress() {\n      return props.route.params.navigate('FormScreen');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"Voir Tous Les Factures\")), React.createElement(Button, {\n    style: {\n      width: '100%',\n      display: 'flex',\n      marginTop: \"5%\",\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    primary: true,\n    onPress: function onPress() {\n      return WebBrowser.openBrowserAsync(config.AUTH_SERVER + \"/realms/ensapay/account\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Modifier vos informations\")), React.createElement(Button, {\n    style: {\n      marginTop: \"auto\",\n      width: '100%',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    danger: true,\n    onPress: function onPress() {\n      ActionSheet.show({\n        options: [\"Continuer\", \"Annuler\"],\n        cancelButtonIndex: 1,\n        destructiveButtonIndex: 0,\n        title: \"Se dÃ©connecter\"\n      }, function (buttonIndex) {\n        if (buttonIndex == 0) logout();\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Deconnexion\")))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: '80%'\n  }\n});","map":{"version":3,"sources":["/home/vvoox/REACT_NATIVE/ensapay-client-mobile/views/ProfilScreen.tsx"],"names":["View","React","useEffect","useState","loadUserInfo","ActionSheet","Button","Container","Content","Text","useKeycloak","config","WebBrowser","ProfilScreen","props","currentUser","setCurrentUser","ready","login","isLoggedIn","token","logout","then","response","data","styles","container","width","display","marginTop","alignItems","justifyContent","route","params","navigate","textAlign","openBrowserAsync","AUTH_SERVER","show","options","cancelButtonIndex","destructiveButtonIndex","title","buttonIndex","StyleSheet","create","flex","fontSize","fontWeight","separator","marginVertical","height"],"mappings":"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","sourcesContent":["import {View } from '../components/Themed';\nimport React, {useEffect, useState} from \"react\";\nimport {loadUserInfo} from \"../services/auth.service\";\nimport {ActionSheet, Button, Container, Content, ListItem, Subtitle, Text, Title} from 'native-base';\nimport {useKeycloak} from \"expo-keycloak\";\nimport {Div} from \"react-native-magnus\";\nimport {StyleSheet} from \"react-native\";\nimport {config} from \"../constants/api\";\nimport * as Linking from 'expo-linking';\nimport * as WebBrowser from 'expo-web-browser';\nimport FormScreen from \"../views/FormScreen\";\nimport {Client} from \"../entities/client\";\n\nexport default function ProfilScreen(props: any) {\n  const [currentUser, setCurrentUser] = useState({} as any);\n  const {\n      ready,\n      login,\n      isLoggedIn,\n      token,\n      logout,\n  } = useKeycloak();\n  useEffect(() => {\n          if (ready)\n              loadUserInfo(token)\n                  .then(response => setCurrentUser(response.data))\n      }\n      , [ready]);\n  return (\n    <View style={styles.container}>\n      <Container>\n        <Content padder>\n            {/*<Body >*/}\n            {/*<Subtitle style={{ fontSize: 22, textAlign: \"left\",fontWeight:\"bold\",marginTop:\"10%\", color:\"black\" }}>Informations Personnelles:</Subtitle>*/}\n            {/**/}\n            {/*<Title style={{ fontSize: 18, textAlign: \"left\",marginTop:\"10%\",color:\"black\" }}>Non et prenom :{currentUser?.name}</Title>*/}\n            {/**/}\n            {/*<Title style={{ fontSize: 18, textAlign: \"left\",marginTop:\"10%\",color:\"black\" }}>Email : {currentUser?.email}</Title>*/}\n            {/**/}\n            {/*<Title style={{fontSize: 18, textAlign: \"left\",marginTop:\"10%\",color:\"black\"}}>Numero de tele : {currentUser?.numeroTel}</Title>*/}\n         \n            <Button style={{ width: '100%', display: 'flex',marginTop:\"30%\", alignItems: 'center', justifyContent: 'center' }} warning\n            onPress={() =>\n              props.route.params.navigate('FormScreen',)\n            }\n           \n            >\n                <Text style={{ textAlign: 'center' }}>\n                    Voir Tous Les Factures\n                </Text>\n            </Button>\n           \n            <Button style={{ width: '100%', display: 'flex',marginTop:\"5%\", alignItems: 'center', justifyContent: 'center' }} primary \n             onPress={() => WebBrowser.openBrowserAsync(`${config.AUTH_SERVER}/realms/ensapay/account`)} >\n                <Text style={{ textAlign: 'center' }}>\n                    Modifier vos informations\n                </Text>\n            </Button>\n         \n          \n      \n            <Button style={{ marginTop: \"auto\",width: '100%', display: 'flex' ,alignItems: 'center', justifyContent: 'center' }} danger  onPress={() => {\n                ActionSheet.show(\n                    {\n                        options: [\"Continuer\", \"Annuler\"],\n                        cancelButtonIndex: 1,\n                        destructiveButtonIndex: 0,\n                        title: \"Se dÃ©connecter\"\n                    },\n                    buttonIndex => {\n                        if (buttonIndex == 0) logout();\n                    }\n                );}\n            }>\n                <Text style={{ textAlign: 'center' }}>\n                    Deconnexion\n                \n                </Text>\n            </Button>\n\n        </Content></Container>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: '80%',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}