{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckboxGroup = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _useDefaultProps = require(\"../../utilities/useDefaultProps\");\n\nvar _div = require(\"../div/div.component\");\n\nvar _jsxFileName = \"/Users/pawankumar/Sites/react-native-magnus/src/ui/checkbox/group.component.tsx\";\n\nvar CheckboxGroup = function CheckboxGroup(incomingProps) {\n  var _ref, _props$value;\n\n  var props = (0, _useDefaultProps.useDefaultProps)('CheckboxGroup', incomingProps, {});\n\n  var _useState = (0, React.useState)((_ref = (_props$value = props.value) !== null && _props$value !== void 0 ? _props$value : props.defaultValue) !== null && _ref !== void 0 ? _ref : []),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var children = props.children,\n      onChangeProp = props.onChange,\n      propsValue = props.value,\n      rest = (0, _objectWithoutProperties2.default)(props, [\"children\", \"onChange\", \"value\"]);\n\n  var onChange = function onChange(optionValue) {\n    var optionIndex = value.indexOf(optionValue);\n    var newValue = (0, _toConsumableArray2.default)(value);\n\n    if (optionIndex === -1) {\n      newValue.push(optionValue);\n    } else {\n      newValue.splice(optionIndex, 1);\n    }\n\n    if (!('value' in props)) {\n      setValue(newValue);\n    }\n\n    if (onChangeProp) {\n      onChangeProp(newValue);\n    }\n  };\n\n  var renderChildren = function renderChildren() {\n    return React.Children.map(children, function (child) {\n      return React.cloneElement(child, {\n        onChange: onChange,\n        checked: value.indexOf(child.props.value) > -1\n      });\n    });\n  };\n\n  return React.createElement(_div.Div, (0, _extends2.default)({}, rest, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }\n  }), renderChildren());\n};\n\nexports.CheckboxGroup = CheckboxGroup;","map":{"version":3,"sources":["group.component.tsx"],"names":["CheckboxGroup","props","value","setValue","children","onChangeProp","propsValue","rest","onChange","optionIndex","newValue","renderChildren","React","checked","child"],"mappings":";;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AAEA,IAAA,gBAAA,GAAA,OAAA,mCAAA;;AAEA,IAAA,IAAA,GAAA,OAAA,wBAAA;;;;AAGA,IAAMA,aAA0D,GAA1DA,SAAAA,aAAAA,CAA6D,aAA7DA,EAED;AAAA,MAAA,IAAA,EAAA,YAAA;;AACH,MAAMC,KAAK,GAAG,CAAA,GAAA,gBAAA,CAAA,eAAA,EAAA,eAAA,EAAA,aAAA,EAAd,EAAc,CAAd;;AADG,MAAA,SAAA,GAGuB,CAAA,GAAA,KAAA,CAAA,QAAA,EAAA,CAAA,IAAA,GAAA,CAAA,YAAA,GAASA,KAAK,CAAd,KAAA,MAAA,IAAA,IAAA,YAAA,KAAA,KAAA,CAAA,GAAA,YAAA,GAAwBA,KAAK,CAA7B,YAAA,MAAA,IAAA,IAAA,IAAA,KAAA,KAAA,CAAA,GAAA,IAAA,GAHvB,EAGuB,CAHvB;AAAA,MAAA,UAAA,GAAA,CAAA,GAAA,eAAA,CAAA,OAAA,EAAA,SAAA,EAAA,CAAA,CAAA;AAAA,MAGIC,KAHJ,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAGWC,QAHX,GAAA,UAAA,CAAA,CAAA,CAAA;;AAAA,MAKDC,QALC,GASCH,KATD,CAAA,QAAA;AAAA,MAMSI,YANT,GASCJ,KATD,CAAA,QAAA;AAAA,MAOMK,UAPN,GASCL,KATD,CAAA,KAAA;AAAA,MAQEM,IARF,GAAA,CAAA,GAAA,yBAAA,CAAA,OAAA,EAAA,KAAA,EAAA,CAAA,UAAA,EAAA,UAAA,EAAA,OAAA,CAAA,CAAA;;AAiBH,MAAMC,QAAQ,GAARA,SAAAA,QAAAA,CAAW,WAAXA,EAAiC;AACrC,QAAMC,WAAW,GAAGP,KAAK,CAALA,OAAAA,CAApB,WAAoBA,CAApB;AACA,QAAMQ,QAAQ,GAAA,CAAA,GAAA,mBAAA,CAAA,OAAA,EAAd,KAAc,CAAd;;AAEA,QAAID,WAAW,KAAK,CAApB,CAAA,EAAwB;AACtBC,MAAAA,QAAQ,CAARA,IAAAA,CAAAA,WAAAA;AADF,KAAA,MAEO;AACLA,MAAAA,QAAQ,CAARA,MAAAA,CAAAA,WAAAA,EAAAA,CAAAA;AAGF;;AAAA,QAAI,EAAE,WAAN,KAAI,CAAJ,EAAyB;AACvBP,MAAAA,QAAQ,CAARA,QAAQ,CAARA;AAGF;;AAAA,QAAA,YAAA,EAAkB;AAChBE,MAAAA,YAAY,CAAZA,QAAY,CAAZA;AAEH;AAjBD,GAAA;;AAsBA,MAAMM,cAAc,GAAdA,SAAAA,cAAAA,GAAuB;AAC3B,WAAOC,KAAK,CAALA,QAAAA,CAAAA,GAAAA,CAAAA,QAAAA,EAA6B,UAAA,KAAA,EAA+B;AACjE,aAAOA,KAAK,CAALA,YAAAA,CAAAA,KAAAA,EAA0B;AAC/BJ,QAAAA,QAAQ,EADuB,QAAA;AAE/BK,QAAAA,OAAO,EAAEX,KAAK,CAALA,OAAAA,CAAcY,KAAK,CAALA,KAAAA,CAAdZ,KAAAA,IAAmC,CAF9C;AAAiC,OAA1BU,CAAP;AADF,KAAOA,CAAP;AADF,GAAA;;AASA,SAAO,KAAA,CAAA,aAAA,CAAC,IAAA,CAAD,GAAA,EAAA,CAAA,GAAA,SAAA,CAAA,OAAA,EAAA,EAAA,EAAA,IAAA,EAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA,EAAA;AAAA,MAAA,YAAA,EAAA;AAAA;AAAA,GAAA,CAAA,EAAgBD,cAAvB,EAAO,CAAP;AAlDF,CAAA","sourcesContent":["import * as React from 'react';\nimport { useState } from 'react';\nimport { useDefaultProps } from '../../utilities/useDefaultProps';\n\nimport { Div } from '../div/div.component';\nimport { CheckboxGroupProps } from './checkbox.type';\n\nconst CheckboxGroup: React.FunctionComponent<CheckboxGroupProps> = (\n  incomingProps\n) => {\n  const props = useDefaultProps('CheckboxGroup', incomingProps, {});\n\n  const [value, setValue] = useState(props.value ?? props.defaultValue ?? []);\n  const {\n    children,\n    onChange: onChangeProp,\n    value: propsValue,\n    ...rest\n  } = props;\n\n  /**\n   * checks if checked value is already in the state or not,\n   * if it, remove it else add it\n   *\n   * @param value\n   */\n  const onChange = (optionValue: any) => {\n    const optionIndex = value.indexOf(optionValue);\n    const newValue = [...value];\n\n    if (optionIndex === -1) {\n      newValue.push(optionValue);\n    } else {\n      newValue.splice(optionIndex, 1);\n    }\n\n    if (!('value' in props)) {\n      setValue(newValue);\n    }\n\n    if (onChangeProp) {\n      onChangeProp(newValue);\n    }\n  };\n\n  /**\n   * clones the children and add checked, onChange prop\n   */\n  const renderChildren = () => {\n    return React.Children.map(children, (child: React.ReactElement) => {\n      return React.cloneElement(child, {\n        onChange,\n        checked: value.indexOf(child.props.value) > -1,\n      });\n    });\n  };\n\n  return <Div {...rest}>{renderChildren()}</Div>;\n};\n\nexport { CheckboxGroup };\n"]},"metadata":{},"sourceType":"script"}